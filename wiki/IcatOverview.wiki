#summary Data Portal and ICAT API Design
#labels Icat-Api,Icat-DP

= Data Portal and ICAT API Design =
Author(s): Glen Drinkwater and Richard Tyer

 * ICAT API is the Grid aware software infrastructure that enables applications to exploit the capabilities of the ICAT system, with potential wider applicability to other research groups and institutions.

 * Data Portal is the Grid aware software infrastructure that serves the Data Search and Retrieval (DSR) requirements of the STFC facilities, with wider potential applicability to other research groups and institutions. Internally it makes use of the ICAT API. [[BR]]
The ICAT API provides a set of web services that the Data Portal uses internally to interact with the ICAT schema. In the primary Data Portal instance, the ICAT API web service capabilities are exposed to the user via a web portal where they can login using a STFC federal ID and password, search for data across facilities and retrieve the data.  


== Aims ==

The principle aims and objectives for Data Portal and ICAT API include to:
 * Be developed in conjunction with the STFC facilities and their research groups so as to better serve their needs and user communities;
 * Be installable by an e-Science system administrator;
 * Use proven IT industry best practise, technologies and standards (e.g. EJB 3, JEE, Apache Ant, Subversion etc.);
 * Have an architecture which is as simple as possible, subject to meeting all the functional and non-functional requirements;
 * Be both robust and resilient;
 * Allow simple yet rich programmatic access to the ICAT catalogue;
 * Allow flexible search and retrieval of data.

	
== DESIGN ==

=== ICAT and Data Portal Architecture ===

The architecture of this system allows it to be very extensible and pluggable with custom interfaces and implementations.  The Data Portal and ICAT API are hosted on a single application server, allowing both a web interface into the system, for search and retrieve of data, and programmatic access to the ICAT exposing a much richer set of functionality that other applications using the catalogue can be built upon.


The core of the system is the ICAT API.  This web service interface layer offers a wide range of services to allow other applications to interact efficiently and securely with the ICAT. It provides around eighty methods to create, read, update and delete objects in the underlying schema. It also aims to insulate the applications from any changes to the underlying database system, database location and schema, subject to backwards compatible constraints.  It is written using JAX-WS, which is Web Service Basic Profile compliant. The standards compliant nature of ICAT API offers potential interoperability with many other languages and hence provides the possibility of a multitude of other systems seamlessly integrating into the ICAT framework.

A UML deployment diagram showing the relevant system components for the Data Portal and ICAT API system and outlining how the different system components interact is shown in Figure 1.

 ICATdesign.jpg

Figure 1: Data Portal and ICAT API UML deployment diagram


The Data Portal is a JSF web application that allows users to easily and securely search and retrieve data from anywhere with internet access.  The Data Portal sits on top of the ICAT API and makes use of it to authenticate the user and find the data they are seeking within the ICAT through a variety of simple or advanced searches.

The actual downloading of the data is handled by a HTTP Interface that sits in front of a facilityâ€™s data archive and interacts with the ICAT API to authenticate the user and authorise their request for data.  The ICAT API generates a URL that will be processed by the HTTP Interface and stream the data back to the application requesting the data.